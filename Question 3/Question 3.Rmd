---
title: "Question 3"
documentclass: elsarticle
Thesis_FP: no
output:
  pdf_document:
    keep_tex: yes
    template: Tex/TexDefault.txt
    fig_width: null
    fig_height: 3.5
  html_document:
    df_print: paged
Author1: Ronan Morris
Ref1: Stellenbosch University
Email1: 22876634\\@sun.ac.za
BottomRFooter: \footnotesize Page \thepage
addtoprule: yes
addfootrule: yes
margin: 2.3
bottom: 2
top: 2.5
HardSet_layout: yes
linenumbers: no
bibliography: Tex/ref.bib
csl: "Tex/harvard-stellenbosch-university.csl"
RemovePreprintSubmittedTo: yes
toc: no
numbersections: yes
fontsize: 11pt
linestretch: 1.2
link-citations: yes
AddTitle: yes
---
```{r setup, include=FALSE}

rm(list = ls())

tinytex::install_tinytex(force = TRUE)
options(repos = "https://cran.mirror.ac.za/")

gc() 

knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.width = 6, fig.height = 5, fig.pos="H", fig.pos = 'H')

if(!require("tidyverse")) install.packages("tidyverse")

```

```{r}

rm(list=ls())

library(tidyverse)

ALSI <- read_rds("data/ALSI.rds")

ZAR <- read_rds("data/Monthly_zar.rds") %>% 
    filter(date >= first(ALSI$date))

SWIX <- read_rds("data/Capped_SWIX.rds") %>% 
    filter(date >= first(ALSI$date) & date <= last(ZAR$date))

RebDays <- read_rds("data/Rebalance_days.rds") %>% 
    filter(date >= first(ALSI$date) & date <= last(ZAR$date)) %>% 
    filter(!Date_Type == "Effective Date")

ALSI <- ALSI %>% 
    filter(date <= last(ZAR$date)) %>% 
    na.omit()

### Converting the ALSI into monthly data so that I can compare. 

monthlyALSI <- ALSI %>%
  group_by(Tickers, year_month = format(date, "%Y-%m")) %>%
  summarise(
    Returns = (prod(1 + Return) - 1),
    J203 = first(J203),
    J403 = first(J403),
    Sector = first(Sector),
    Index_Name = last(Index_Name),
    date = last(date)
  ) %>% ungroup() %>% 
    select(-year_month)

# Filter Into Large 

LargeALSI <- monthlyALSI %>% 
    filter(Index_Name == "Large_Caps")

# Filter Into Mid

MidALSI <- monthlyALSI %>% 
    filter(Index_Name == "Mid_Caps")

# Filter into Small 

Smalsi <- monthlyALSI %>% 
    filter(Index_Name == "Small_Caps")

```

```{r}

 

```


# Data 

```{r Figure1,  warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure1}", fig.ext = 'png', fig.height = 3, fig.width = 6}


```

